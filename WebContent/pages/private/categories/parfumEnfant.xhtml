<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:customer="http://java.sun.com/jsf/composite/components/customer"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title>parfum</title>
	<style type="text/css">
.tg {
	border-collapse: collapse;
	border-spacing: 0;
	border-color: #ccc;
}

.tg td {
	font-family: Arial, sans-serif;
	font-size: 14px;
	padding: 10px 5px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: #ccc;
	color: #333;
	background-color: #fff;
}

.tg th {
	font-family: Arial, sans-serif;
	font-size: 14px;
	font-weight: normal;
	padding: 10px 5px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: #ccc;
	color: #333;
	background-color: #f0f0f0;
}

.tg .tg-4eph {
	background-color: #f9f9f9
}
</style>

	<h:outputStylesheet name="/resources/css/style.css" />

</h:head>
<h:body>
	<!-- 	<h:form id="femme"> -->
	<p:dataTable id="dataEnfant" var="parEnfant"
		value="#{PEFilterView.produits}" widgetVar="produitsEnfantTable"
		emptyMessage="No produits found with given criteria"
		filteredValue="#{PEFilterView.filteredProduits}">

		<f:facet name="header">
			<p:outputPanel>
				<!-- <h:outputText value="Search all fields:" /> -->
				<p:inputText id="globalFilter"
					onkeyup="PF('produitsEnfantTable').filter()"
					style="text-align=right" placeholder="Rechercher" />
			</p:outputPanel>
		</f:facet>

		<p:column style="width:50px">
			<h:outputText value="#{parEnfant.idProduit}" />
		</p:column>

		<p:column filterBy="#{parEnfant.idMarque.marqueNom}"
			headerText="Marque" footerText="exact" filterMatchMode="exact">
			<f:facet name="filter">
				<p:selectOneMenu onchange="PF('produitsEnfantTable').filter()"
					style="width:80%">
					<f:selectItem itemLabel="Select One" itemValue="#{null}"
						noSelectionOption="true" />
					<f:selectItems value="#{PEFilterView.brands}" />
				</p:selectOneMenu>
			</f:facet>
			<!--             <p:graphicImage url="/images/100X100/#{produit.produitPhotoURL}" width="100" /> -->
			<p:graphicImage
				url="/images/100X100/#{empty parEnfant.produitPhotoURL ? 'default.jpg' : parEnfant.produitPhotoURL}"
				width="100" />
			<!--              <h:outputText value="#{empty produit.produitPhotoURL ? 'default.jpg' : produit.produitPhotoURL}" /> -->
			<h:outputText value="#{parEnfant.idMarque.marqueNom}" />
		</p:column>

		<p:column filterBy="#{parEnfant.produitDescription}"
			headerText="Description" footerText="contains"
			filterMatchMode="contains">
			<h:outputText value="#{parEnfant.produitDescription}" />
		</p:column>

		<p:column filterBy="#{parEnfant.produitDetail}" style="width:150px"
			headerText="Detail" footerText="contains" filterMatchMode="contains">
			<h:outputText value="Pour #{parEnfant.produitDetail}" />
		</p:column>

		<p:column filterBy="#{parEnfant.prixPublic}" style="width:110px"
			headerText="Prix constaté" footerText="custom (min)"
			filterFunction="#{PEFilterView.filterByPrice}">
			<h:outputText value="#{parEnfant.prixPublic}">
				<f:convertNumber currencySymbol="€" type="currency" />
			</h:outputText>
		</p:column>

		<p:column filterBy="#{parEnfant.notrePrix}" style="width:110px"
			headerText="Notre prix" footerText="custom (min)"
			filterFunction="#{PEFilterView.filterByPrice}">
			<h:outputText value="#{parEnfant.notrePrix}">
				<f:convertNumber currencySymbol="€" type="currency" />
			</h:outputText>
		</p:column>

		<p:column style="width:110px">
			<p:commandButton update=":basketform:bag" icon="ui-icon-cart"
				title="View" action="#{PEFilterView.addToBasket()}">
				<f:setPropertyActionListener value="#{parEnfant}"
					target="#{PEFilterView.selectedProduit}" />
			</p:commandButton>
		</p:column>

	</p:dataTable>
	
	<!-- produit dialog -->
	<h:form id="produitForm">
		<p:dialog header="produit Info" widgetVar="produitDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
	        <p:outputPanel id="produitDetail" style="text-align:center;">
	            <p:panelGrid  columns="2" rendered="#{not empty dtSelectionView.selectedCar}" columnClasses="label,value">
	                <f:facet name="header">
	                   <h:outputText value="Le produit a été ajouté avec succès !" style="color:green" />
	                </f:facet>
	 
	 				 <p:graphicImage name="/WebContent/images/100X100/#{empty PEFilterView.selectedProduit.produitPhotoURL ? 'default.jpg' : parEnfant.produitPhotoURL}"/> 
	 				 
	                <h:outputText value="#{PEFilterView.selectedProduit.idMarque.marqueNom}  #{PEFilterView.selectedProduit.produitDescription}" />
	 
		<!--       <h:outputText value="#{PEFilterView.selectedProduit.produitDescription}" /> -->
	 
	            </p:panelGrid>
	        </p:outputPanel>
	    </p:dialog>
	</h:form>

</h:body>
</html>