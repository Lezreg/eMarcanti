<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:customer="http://java.sun.com/jsf/composite/components/customer"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title>parfum</title>
	<style type="text/css">
.tg {
	border-collapse: collapse;
	border-spacing: 0;
	border-color: #ccc;
}

.tg td {
	font-family: Arial, sans-serif;
	font-size: 14px;
	padding: 10px 5px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: #ccc;
	color: #333;
	background-color: #fff;
}

.tg th {
	font-family: Arial, sans-serif;
	font-size: 14px;
	font-weight: normal;
	padding: 10px 5px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: #ccc;
	color: #333;
	background-color: #f0f0f0;
}

.tg .tg-4eph {
	background-color: #f9f9f9
}
</style>

	<h:outputStylesheet name="/resources/css/style.css" />

</h:head>
<h:body>
		<p:dataTable id="dataFemme" var="produitFemme"
			value="#{PFFilterView.produits}" widgetVar="produitsTable1"
			emptyMessage="No produits found with given criteria"
			filteredValue="#{PFFilterView.filteredProduits}">


<!-- 	<p:dataTable id="dataFemme" var="produitFemme" -->
<!-- 		value="#{PFFilterView.produits}" -->
<!-- 		paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}" -->
<!-- 		paginator="true" rows="20" style="margin-bottom:20px"> -->

		<f:facet name="header">
			<p:outputPanel>
				<!-- <h:outputText value="Search all fields:" /> -->
				<p:inputText id="globalFilter"
					onkeyup="PF('produitsTable1').filter()" style="text-align=right"
					placeholder="Rechercher" />
			</p:outputPanel>

			<h:commandLink>
				<p:graphicImage name="/images/icons/excel.png" width="24" />
				<p:dataExporter type="xls" target="dataFemme" fileName="parfumfemme"
					selectionOnly="false" />
			</h:commandLink>

			<p:spacer width="20" />

<!-- 			<p:commandLink id="xls" ajax="false"> -->
<!-- 				<p:graphicImage value="/resources/images/excel.png" /> -->
<!-- 				<f:setPropertyActionListener value="false" -->
<!-- 					target="#{exporterController.customExporter}" /> -->
<!-- 				<pe:exporter type="xlsx" target="vehiclesTable" -->
<!-- 					fileName="vehiclesTable" facetBackground="#AAFFBB" -->
<!-- 					datasetPadding="4" /> -->

<!-- 			</p:commandLink> -->
		</f:facet>

		<p:column style="width:50px">
			<h:outputText value="#{produitFemme.idProduit}" />
		</p:column>

		<p:column filterBy="#{produitFemme.idMarque.marqueNom}"
			headerText="Marque" footerText="exact" filterMatchMode="exact">
			<f:facet name="filter">
				<p:selectOneMenu onchange="PF('produitsTable1').filter()"
					style="width:80%">
					<f:selectItem itemLabel="Select One" itemValue="#{null}"
						noSelectionOption="true" />
					<f:selectItems value="#{PFFilterView.brands}" />
				</p:selectOneMenu>
			</f:facet>
			<!--             <p:graphicImage url="/images/100X100/#{produit.produitPhotoURL}" width="100" /> -->
			<p:graphicImage
				url="/images/100X100/#{empty produitFemme.produitPhotoURL ? 'default.jpg' : produitFemme.produitPhotoURL}"
				width="100" />
			<!--              <h:outputText value="#{empty produit.produitPhotoURL ? 'default.jpg' : produit.produitPhotoURL}" /> -->
			<h:outputText value="#{produitFemme.idMarque.marqueNom}" />
		</p:column>

		<p:column filterBy="#{produitFemme.produitDescription}"
			headerText="Description" footerText="contains"
			filterMatchMode="contains">
			<h:outputText value="#{produitFemme.produitDescription}" />
		</p:column>

		<p:column filterBy="#{produitFemme.produitDetail}" style="width:150px"
			headerText="Detail" footerText="contains" filterMatchMode="contains">
			<h:outputText value="Pour #{produitFemme.produitDetail}" />
		</p:column>

		<p:column filterBy="#{produitFemme.prixPublic}" style="width:110px"
			headerText="Prix constaté" footerText="custom (min)"
			filterFunction="#{PFFilterView.filterByPrice}">
			<h:outputText value="#{produitFemme.prixPublic}">
				<f:convertNumber currencySymbol="€" type="currency" />
			</h:outputText>
		</p:column>

		<p:column filterBy="#{produitFemme.notrePrix}" style="width:110px"
			headerText="Notre prix" footerText="custom (min)"
			filterFunction="#{PFFilterView.filterByPrice}">
			<h:outputText value="#{produitFemme.notrePrix}">
				<f:convertNumber currencySymbol="€" type="currency" />
			</h:outputText>
		</p:column>
		
		<p:column style="width:110px">
			<p:commandButton  icon="ui-icon-cart"
				title="View" action="#{PEFilterView.addToBasket()}">
				<f:setPropertyActionListener value="#{produitFemme}"
					target="#{PEFilterView.selectedProduit}" />
			</p:commandButton>
		</p:column>

	</p:dataTable>

</h:body>
</html>