<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
<h:body>
	<ui:composition template="/template/template.xhtml">

		<ui:define name="content">
			<h:form id="formFilleul">
				<h:inputHidden value="#{filleulsBean.filleul.idMembre}"  />
				<h:panelGrid columns="2" border="0" cellpadding="10" cellspacing="1">
					<h:outputLabel value="#{msg.libelle_nom}" />
					<h:inputText value="#{filleulsBean.filleul.membreNom}" />
					
					<h:outputLabel value="#{msg.libelle_prenom}" />
					<h:inputText value="#{filleulsBean.filleul.membrePrenom}" />
					
					<h:outputLabel value="#{msg.libelle_email}" />
					<h:inputText value="#{filleulsBean.filleul.membreEmail}" />
					
					<h:outputLabel value="#{msg.libelle_tel}" />
					<h:inputText value="#{filleulsBean.filleul.membreTel}" />	
					
					<h:outputLabel value="#{msg.libelle_orga}" />
					<h:selectOneMenu value="#{filleulsBean.filleul.idOrga.idOrga}" disabled="true">
			   			<f:selectItems value="#{filleulsBean.referentielService.organisationList}" var="c"
			   			itemLabel="#{c.orgaNom}" itemValue="#{c.idOrga}" />
			   		</h:selectOneMenu>
			   		
					<h:outputLabel value="#{msg.libelle_role}" />
					<h:selectOneMenu value="#{filleulsBean.filleul.idProfil.idProfil}" disabled="true">
			   			<f:selectItems value="#{filleulsBean.referentielService.profilList}" var="c"
			   			itemLabel="#{c.profilLibelle}" itemValue="#{c.idProfil}" />
			   		</h:selectOneMenu>			   		
			   		
					<h:outputLabel value="#{msg.libelle_cpt_active}" />
					<h:selectOneRadio value="#{filleulsBean.filleul.isActif}">
			   			<f:selectItems value="#{filleulsBean.radioButtonOuiNon}" />
			   		</h:selectOneRadio>
			   		
					<h:outputLabel value="#{msg.libelle_init_passwd}" />
					<h:selectOneRadio value="#{filleulsBean.filleul.isDefaultPassword}">
			   			<f:selectItems value="#{filleulsBean.radioButtonOuiNon}" />
			   		</h:selectOneRadio>			   		
			   		
			   		<h:button type="button" value="#{msg.libelle_retour}" outcome="filleuls"/>
			   		
			   		<c:choose>
					    <c:when test="${empty filleulsBean.filleul.idMembre}">
							<!--  c:set var="filleulsBean.filleul.idMembre" value="0"/-->
							<h:commandButton type="submit" value="#{msg.libelle_valider}" action="#{filleulsBean.insertFilleul()}"/>				        
					    </c:when>    
					    <c:otherwise>
					    	<h:commandButton type="submit" value="#{msg.libelle_valider}" action="#{filleulsBean.updateFilleul()}"/> 
					    </c:otherwise>
					</c:choose>
				</h:panelGrid>
			</h:form>
		</ui:define>

	</ui:composition>
</h:body>
</html>
